
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="../../../theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="../../../theme/pygments/perldoc.min.css">


  <link rel="stylesheet" type="text/css" href="../../../theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="../../../theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="../../../theme/font-awesome/css/solid.css">


    <link href="https://marek-gaw.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Embedded Stuff Atom">



  


<meta name="author" content="Marek Gawryszewski" />
<meta name="description" content="Recently, I have been playing with Raspberry Pi. My goal was to blink with LED - seems so simple, right? To make it a little harder, I choose to make it via loadable kernel module. First problem that I had encounter was difference between version of kernel sources, that are available …" />
<meta name="keywords" content="Raspberry Pi, Kernel, Kernel drivers">


<meta property="og:site_name" content="Embedded Stuff"/>
<meta property="og:title" content="Loadable kernel modules and Raspberry Pi"/>
<meta property="og:description" content="Recently, I have been playing with Raspberry Pi. My goal was to blink with LED - seems so simple, right? To make it a little harder, I choose to make it via loadable kernel module. First problem that I had encounter was difference between version of kernel sources, that are available …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="../../../blog/2015/11/loadable-kernel-modules-and-raspberry-pi.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-11-18 07:20:02-01:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="../../../author/marek-gawryszewski.html">
<meta property="article:section" content="Linux"/>
<meta property="article:tag" content="Raspberry Pi"/>
<meta property="article:tag" content="Kernel"/>
<meta property="article:tag" content="Kernel drivers"/>
<meta property="og:image" content="">

  <title>Embedded Stuff &ndash; Loadable kernel modules and Raspberry Pi</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="../../..">
        <img src="../../../theme/img/profile.png" alt="Embedded Stuff" title="Embedded Stuff">
      </a>

      <h1>
        <a href="../../..">Embedded Stuff</a>
      </h1>

<p>Embedded, Linux, Cloud, IoT, Automation</p>

      <nav>
        <ul class="list">



            <li>
              <a target="_self" href="https://www.meetup.com/LodzCEHUG/" >CEHUG</a>
            </li>
            <li>
              <a target="_self" href="http://getpelican.com/" >Pelican</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/marekgawryszewski-2617972" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/marek-gaw" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="../../..">Home</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>

      <a href="https://marek-gaw.github.io/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="loadable-kernel-modules-and-raspberry-pi">Loadable kernel modules and Raspberry Pi</h1>
    <p>
      Posted on śro 18 listopada 2015 in <a href="../../../category/linux.html">Linux</a>

        &#8226; 1 min read
    </p>
  </header>


  <div>
    <p>Recently, I have been playing with Raspberry Pi. My goal was to blink with LED - seems so simple, right? To make it a little harder, I choose to make it via loadable kernel module.</p>
<p>First problem that I had encounter was difference between version of kernel sources, that are available at GitHub (<a class="reference external" href="https://github.com/raspberrypi/linux">https://github.com/raspberrypi/linux</a>) and kernel version available in Raspbian Jessie (for Nov 2015 it is 4.1.12 vs 4.1.7+). Difference looks small but in fact makes simplest possible modules not working at all.</p>
<p>Finally, I made it work. The key was post, found on the Internet with step-by-step instruction, how to make Raspian Jessie work with current kernel sources. Post: <a class="reference external" href="https://sites.google.com/site/thepihacker/pimodules">https://sites.google.com/site/thepihacker/pimodules</a></p>
<p>This time cross compilation was not a problem. Because I had been using Ubunutu 64bit, I chose to use official toolchain, made by Linaro (available at Gitub: <a class="reference external" href="https://github.com/raspberrypi/tools">https://github.com/raspberrypi/tools</a>). Fortunately, version of cross compiler matched version of compiler used to build kernel in Raspbian (this version checking is also a part of the process of preparation described in post, mentioned above).
It seems that making simple loadable kernel module was not as hard as environment setup, which is quite supprising to me. Anyway, now I am able do blink LED diode with kernel module.</p>

  </div>
  <div class="tag-cloud">
    <p>
      <a href="../../../tag/raspberry-pi.html">Raspberry Pi</a>
      <a href="../../../tag/kernel.html">Kernel</a>
      <a href="../../../tag/kernel-drivers.html">Kernel drivers</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Embedded Stuff ",
  "url" : "../../..",
  "image": "",
  "description": "Flex - The minimalist Pelican theme."
}
</script>


</body>
</html>